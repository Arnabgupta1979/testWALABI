/* ---------- Core tokens ---------- */
:root{
  /* Palette */
  --green:#78A22F; --blue:#007C9E; --orange:#F58025;
  --yellow:#F8E71C; --red:#D0021B; --purple:#9013FE;
  --ink:#1b1f24; --muted:#667085; --bg:#ffffff; --card:#f6f7f9; --line:#e5e7eb;

  /* Accents can be swapped by body class */
  --accent: var(--blue);
  
  /* Modern additions */
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --radius-sm:.5rem; --radius-md:.8rem; --radius-lg:1rem;
  --shadow-sm:0 2px 8px rgba(16,24,40,.06);
  --shadow-md:0 8px 24px rgba(16,24,40,.08);
  --tran-fast:.12s ease; --tran-med:.2s ease;
  --h1:2.4rem; --h2:1.7rem; --h3:1.25rem; --h4:1.08rem;
}
/* Accent variants */
body.accent-blue{ --accent: var(--blue); }
body.accent-green{ --accent: var(--green); }
body.accent-purple{ --accent: var(--purple); }
body.accent-orange{ --accent: var(--orange); }

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: var(--font-sans);
  color:var(--ink); background:var(--bg); line-height:1.65;
  text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:var(--accent); text-decoration:none; text-underline-offset:2px}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:0 auto;padding:2rem}

/* ---------- Header ---------- */
.site-header{
  position:sticky; top:0; z-index:10; background:#fffcc;
  background:rgba(255,255,255,.85); border-bottom:1px solid var(--line);
  backdrop-filter:saturate(120%) blur(6px);
}
.header-inner{display:flex;align-items:center;justify-content:space-between}
.brand{font-weight:800;letter-spacing:.2px;color:var(--ink)}
.nav a{margin-left:1rem;color:var(--ink)}
.nav .btn{margin-left:1rem}

/* ---------- Buttons ---------- */
.btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.7rem 1.05rem; border-radius:var(--radius-md); border:1px solid var(--line);
  background:#fff; color:var(--ink); text-decoration:none;
  transition:transform var(--tran-fast), box-shadow var(--tran-med), border-color var(--tran-fast), background-color var(--tran-fast);
}
.btn:hover{transform:translateY(-1px); box-shadow:var(--shadow-sm)}
.btn:active{transform:translateY(0)}
.btn:focus-visible{outline:2px solid color-mix(in srgb, var(--accent) 60%, white); outline-offset:2px}
.btn-primary{
  background:var(--accent); color:#fff; border-color:var(--accent);
  box-shadow:var(--shadow-md), 0 0 0 1px rgba(0,0,0,.02) inset;
}
.btn-ghost{background:transparent}

/* ---------- Hero ---------- */
.hero{
  background:linear-gradient(135deg, rgba(0,124,158,.06), rgba(144,19,254,.05));
  padding:3.75rem 0;
}
.hero-inner{display:grid;grid-template-columns:1.3fr .7fr;gap:2rem;align-items:center}
.lead{max-width:720px;color:var(--muted)}
.cta-row{display:flex;gap:.75rem;margin-top:1rem}
.chips{display:flex;gap:.5rem;flex-wrap:wrap;margin:1rem 0 0;padding:0;list-style:none}
.chip{
  background:#fff;border:1px solid var(--line);border-radius:999px;
  padding:.35rem .7rem;font-size:.85rem;color:var(--muted);
  transition:background-color var(--tran-fast), border-color var(--tran-fast);
}
.chip:hover{background:#fff; border-color:color-mix(in srgb, var(--accent) 35%, var(--line))}

/* ---------- Stat card ---------- */
.stat-card{
  display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;
  background:#fff;border:1px solid var(--line);border-radius:var(--radius-lg);padding:1rem;
  box-shadow:var(--shadow-md);
}
.stat{display:flex;flex-direction:column;align-items:flex-start}
.stat-number{font-size:1.6rem;font-weight:bold}
.stat-label{font-size:.9rem;color:var(--muted)}

/* ---------- Sections ---------- */
.section{padding:2.5rem 0}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.panel{
  background:#fff;border:1px solid var(--line);border-radius:var(--radius-lg);padding:1rem 1.1rem;
}
.panel-title{display:flex;align-items:center;gap:.5rem;margin:0 0 .4rem}

/* ---------- Cards ---------- */
.cards{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:1rem; margin-top:1rem;
}
.card{
  background:#fff;border:1px solid var(--line);border-radius:var(--radius-lg);padding:1.1rem;
  box-shadow:var(--shadow-sm);
  transition:transform var(--tran-fast), box-shadow var(--tran-med), border-color var(--tran-fast);
}
.card:hover{transform:translateY(-2px); box-shadow:var(--shadow-md)}
.card.link{display:flex;gap:.9rem;align-items:center}
.resources .card h4{margin:.1rem 0}
.icon-wrap{
  width:44px;height:44px;border-radius:.8rem;display:grid;place-items:center;
  background:var(--card); border:1px solid var(--line);
}
.icon{width:22px;height:22px;stroke:currentColor;fill:currentColor}
.icon.inline{width:18px;height:18px;vertical-align:-3px}

/* Icon color helpers */
.icon-wrap.green{color:var(--green); border-color:rgba(120,162,47,.25)}
.icon-wrap.blue{color:var(--blue); border-color:rgba(0,124,158,.25)}
.icon-wrap.orange{color:var(--orange); border-color:rgba(245,128,37,.25)}
.icon-wrap.yellow{color:#8b7b00; border-color:rgba(248,231,28,.35); background:linear-gradient(0deg,#fff9cc,#fff)}
.icon-wrap.purple{color:var(--purple); border-color:rgba(144,19,254,.25)}

/* Metadata & badges */
.meta{color:var(--muted);font-size:.92rem;padding-left:1rem}
.meta li{margin:.25rem 0}
.badges{display:flex;gap:.4rem;margin:.6rem 0 0}
.badge{
  font-size:.75rem;border-radius:.5rem;padding:.2rem .5rem;border:1px solid var(--line);
  color:var(--muted); background:#fff;
}
.badge.blue{border-color:rgba(0,124,158,.3);color:var(--blue)}
.badge.green{border-color:rgba(120,162,47,.3);color:var(--green)}
.badge.purple{border-color:rgba(144,19,254,.3);color:var(--purple)}
.badge.orange{border-color:rgba(245,128,37,.3);color:var(--orange)}

/* ---------- CTA band ---------- */
.cta-band{
  background:linear-gradient(135deg, rgba(120,162,47,.12), rgba(0,124,158,.12));
  border-top:1px solid var(--line);
}
.cta-band-inner{display:flex;align-items:center;justify-content:space-between;padding:1.6rem 0}

/* ---------- Footer ---------- */
.site-footer{border-top:1px solid var(--line); background:#fff}
.footer-inner{display:flex;align-items:center;justify-content:space-between}

/* ---------- Typography ---------- */
h1,h2,h3,h4{margin:.2rem 0 .5rem}
h1{font-size:var(--h1)}
h2{font-size:var(--h2)}
h3{font-size:var(--h3)}
h4{font-size:var(--h4)}
.muted{color:var(--muted)}

/* ---------- Small screens ---------- */
@media (max-width:900px){
  .hero-inner{grid-template-columns:1fr}
  .stat-card{grid-template-columns:repeat(3,1fr)}
}
@media (max-width:640px){
  .container{padding:1.25rem}
  .cta-row{flex-wrap:wrap}
  .grid-2{grid-template-columns:1fr}
  .stat-card{grid-template-columns:1fr 1fr}
}

/* ---------- Accessibility & motion ---------- */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important}
}

/* ---------- Force dark theme via class ---------- */
body.theme-dark{
  --ink:#e6e9ee; --muted:#98a2b3; --bg:#0b0f14; --card:#0f1520; --line:#1f2937;
  --shadow-sm:0 2px 8px rgba(0,0,0,.4);
  --shadow-md:0 12px 28px rgba(0,0,0,.55);
}
body.theme-dark .site-header{background:rgba(11,15,20,.7)}
body.theme-dark .btn{background:#0f1520}
body.theme-dark .btn-ghost{background:transparent}
body.theme-dark .chip{background:#0f1520}
body.theme-dark .card, body.theme-dark .panel, body.theme-dark .stat-card{background:#0f1520}
body.theme-dark .icon-wrap{background:#0b0f14}

/* Explicit light theme to override system dark */
body.theme-light{
  --ink:#1b1f24; --muted:#667085; --bg:#ffffff; --card:#fbfbfc; --line:#e5e7eb;
  --shadow-sm:0 2px 8px rgba(16,24,40,.06);
  --shadow-md:0 8px 24px rgba(16,24,40,.08);
}

/* ---------- Dark mode (follows OS when no explicit theme-light) ---------- */
@media (prefers-color-scheme: dark){
  body:not(.theme-light){
    --ink:#e6e9ee; --muted:#98a2b3; --bg:#0b0f14; --card:#0f1520; --line:#1f2937;
    --shadow-sm:0 2px 8px rgba(0,0,0,.4);
    --shadow-md:0 12px 28px rgba(0,0,0,.55);
  }
  body:not(.theme-light) .site-header{background:rgba(11,15,20,.7)}
  body:not(.theme-light) .btn{background:#0f1520}
  body:not(.theme-light) .btn-ghost{background:transparent}
  body:not(.theme-light) .chip{background:#0f1520}
  body:not(.theme-light) .card, body:not(.theme-light) .panel, body:not(.theme-light) .stat-card{background:#0f1520}
  body:not(.theme-light) .icon-wrap{background:#0b0f14}
}
